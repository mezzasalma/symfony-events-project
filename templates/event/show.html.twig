{% extends 'base.html.twig' %}

{% block title %}Event{% endblock %}

{% block body %}
  <div class="grid grid-cols-3">
    <div class="col-span-3">
      <a class="flex justify-center items-center button ml-0" href="{{ path('event_index') }}">back to list</a>
      <h1>{{ event.name }}</h1>
    </div>
  </div>
  <table class="table">
    <tbody>
    <tr>
      <th>Description</th>
      <td>{{ event.description }}</td>
    </tr>
    <tr>
      <th>Date</th>
      <td>{{ event.startDate ? event.startDate|date('Y-m-d H:i:s') : '' }}</td>
    </tr>
    <tr>
      <th>Date</th>
      <td>{{ event.endDate ? event.endDate|date('Y-m-d H:i:s') : '' }}</td>
    </tr>
    <tr>
      <th>Location</th>
      <td>{{ event.location }}</td>
    </tr>
    <tr>
      <th>City</th>
      <td>{{ event.city }}</td>
    </tr>
    <tr>
      <th>Postal code</th>
      <td>{{ event.postalCode }}</td>
    </tr>
    <tr>
      <th>Price</th>
      <td>{{ event.price }}</td>
    </tr>
    {% if is_granted('ROLE_ADMIN') %}
      <tr>
        <th>Number of places</th>
        <td>{{ event.numberPlaces }}</td>
      </tr>
      <tr>
        <th>Active</th>
        <td>{{ event.active ? 'Yes' : 'No' }}</td>
      </tr>
    {% endif %}
    </tbody>
  </table>

  {{ dump(event) }}

  {% if is_granted('ROLE_USER') %}
    <button type="button">Participer</button>
  {% endif %}
  {% if is_granted('ROLE_ADMIN') %}
    <a href="{{ path('event_edit', {'id': event.id}) }}">edit</a>
    {{ include('event/_delete_form.html.twig') }}
  {% endif %}
{% endblock %}
